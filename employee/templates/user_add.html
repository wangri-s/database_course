{% extends 'layout.html' %}

{% block content %}
    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">新建用户</h3>
            </div>
            <div class="panel-body">
                <!-- 显示消息 -->
                {% if messages %}
                    <div class="alert alert-dismissible">
                        {% for message in messages %}
                            <div class="alert {% if message.tags == 'error' %}alert-danger{% else %}alert-success{% endif %}">
                                {{ message }}
                            </div>
                        {% endfor %}
                    </div>
                {% endif %}

                <form method="post" novalidate>
                    {% csrf_token %}

                    <!-- 姓名 -->
                    <div class="form-group">
                        <label for="name">姓名</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>

                    <!-- 上级 -->
                    <div class="form-group">
                        <label for="supervisor">上级</label>
                        <select class="form-control" id="supervisor" name="supervisor">
                            <option value="">无</option>
                            {% for supervisor in supervisors %}
                                <option value="{{ supervisor.0 }}">{{ supervisor.1 }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <!-- 部门 -->
                    <div class="form-group">
                        <label for="department">部门</label>
                        <select class="form-control" id="department" name="department">
                            <option value="">无</option>
                            {% for department in departments %}
                                <option value="{{ department.0 }}">{{ department.1 }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <!-- 提交按钮 -->
                    <div class="form-group text-center">
                        <button type="submit" class="btn btn-primary">提交</button>
                        <a href="/user/list/" class="btn btn-default">取消</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
