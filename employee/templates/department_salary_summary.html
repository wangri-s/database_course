{% extends 'layout.html' %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center">部门薪资分配统计</h2>

    <!-- 生成饼状图按钮 -->
    <div class="text-center mt-4 mb-4">
        <a href="{% url 'department_salary_chart' %}" class="btn btn-primary">
            生成部门薪资分配饼状图
        </a>
    </div>

    <!-- 表格显示薪资统计数据 -->
    <table class="table table-bordered table-striped mt-4">
        <thead>
            <tr>
                <th>部门名称</th>
                <th>基础工资总额</th>
                <th>住房补贴总额</th>
                <th>应发工资总额</th>
                <th>扣款总额</th>
                <th>实发工资总额</th>
            </tr>
        </thead>
        <tbody>
            {% for item in summary %}
            <tr>
                <td>{{ item.department_name }}</td>
                <td>{{ item.total_base_salary }}</td>
                <td>{{ item.total_housing_allowance }}</td>
                <td>{{ item.total_gross_salary }}</td>
                <td>{{ item.total_deductions }}</td>
                <td>{{ item.total_net_salary }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="text-center">暂无数据</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
